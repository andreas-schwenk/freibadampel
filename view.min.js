var freibadampel=(()=>{var D=new Map,X=()=>"filter"in CanvasRenderingContext2D.prototype,L=e=>{let t=document.createElement("canvas");return t.height=e.canvas.height,t.width=e.canvas.width,Object.defineProperty(t,"__skipFilterPatch",{value:!0}),t.getContext("2d")};function Y(e,t){Object.defineProperty(e.prototype,"__skipFilterPatch",{writable:!0,value:!1}),Object.defineProperty(e.prototype,"__currentPathMirror",{writable:!0,value:void 0}),Object.defineProperty(t.prototype,"filter",{writable:!0,value:"none"})}var B=["__skipFilterPatch","__currentPathMirror","canvas","clearRect","filter","getImageData","globalCompositeOperation"];function $(e){Object.keys(e.prototype).filter(t=>B.indexOf(t)<0).map(t=>({member:t,descriptor:Object.getOwnPropertyDescriptor(e.prototype,t)})).filter(({descriptor:t})=>t.set).forEach(({member:t,descriptor:s})=>{let l=s;Object.defineProperty(e.prototype,t,{get:function(){return this.canvas.__skipFilterPatch?l.get.call(this):this.canvas.__currentPathMirror[t]},set:function(n){if(this.canvas.__skipFilterPatch)return l.set.call(this,n);this.canvas.__currentPathMirror||(this.canvas.__currentPathMirror=L(this)),this.canvas.__currentPathMirror[t]=n}})})}var q=["clearRect","drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],A=(e,t)=>{var s;(s=t.match(/([-a-z]+)(?:\(([\w\d\s\.%-]*)\))?/gim))==null||s.map(l=>{var n;return(n=l.match(/([-a-z]+)(?:\((.*)\))?/i))==null?void 0:n.slice(1,3)}).reduce((l,[n,a])=>D.has(n)?D.get(n)(l,...(a||"").split(" ")):l,e)},F=e=>{let t=parseFloat(e);return/%\s*?$/i.test(e)&&(t/=100),t},G=e=>{let t=parseFloat(e);switch(e.slice(t.toString().length)){case"deg":t/=360;break;case"grad":t/=400;break;case"rad":t/=2*Math.PI;break}return t},E=e=>parseFloat(e);function J(e){Object.keys(e.prototype).filter(t=>B.indexOf(t)<0).map(t=>({member:t,descriptor:Object.getOwnPropertyDescriptor(e.prototype,t)})).filter(({descriptor:t})=>t.value&&typeof t.value=="function").forEach(({member:t,descriptor:s})=>{let l=s.value;Object.defineProperty(e.prototype,t,{value:function(...n){if(this.canvas.__skipFilterPatch)return l.call(this,...n);this.canvas.__currentPathMirror||(this.canvas.__currentPathMirror=L(this));let a=this.canvas.__currentPathMirror[t](...n);if(q.includes(t)){A(this.canvas.__currentPathMirror,this.filter),this.canvas.__skipFilterPatch=!0;let i;"getTransform"in this&&(i=this.getTransform(),this.setTransform(1,0,0,1,0,0)),this.drawImage(this.canvas.__currentPathMirror.canvas,0,0),i&&this.setTransform(i),this.canvas.__skipFilterPatch=!1,this.canvas.__currentPathMirror=L(this)}return a}})})}var K=e=>e,Q=(e,t="0")=>{let s=E(t);if(s<=0)return e;let{height:l,width:n}=e.canvas,a=e.getImageData(0,0,n,l),{data:i}=a,r=n-1,h=l-1,o=s+1,c=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1][s],w=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18][s],m=[],f=[],g=[],b=[],x=[],y=[],S=3,u,d,P,C;for(;S-- >0;){let M=0,p=0;for(let _=0;_<l;_++){let I=i[M]*o,T=i[M+1]*o,j=i[M+2]*o,R=i[M+3]*o;for(let v=1;v<=s;v++)u=M+((v>r?r:v)<<2),I+=i[u++],T+=i[u++],j+=i[u++],R+=i[u];for(let v=0;v<n;v++)m[p]=I,f[p]=T,g[p]=j,b[p]=R,_===0&&(x[v]=((u=v+o)<r?u:r)<<2,y[v]=(u=v-s)>0?u<<2:0),d=M+x[v],P=M+y[v],I+=i[d++]-i[P++],T+=i[d++]-i[P++],j+=i[d++]-i[P++],R+=i[d]-i[P],p++;M+=n<<2}for(let _=0;_<n;_++){let I=_,T=m[I]*o,j=f[I]*o,R=g[I]*o,v=b[I]*o;for(let z=1;z<=s;z++)I+=z>h?0:n,T+=m[I],j+=f[I],R+=g[I],v+=b[I];p=_<<2;for(let z=0;z<l;z++)i[p+3]=C=v*c>>>w,C>0?(C=255/C,i[p]=(T*c>>>w)*C,i[p+1]=(j*c>>>w)*C,i[p+2]=(R*c>>>w)*C):i[p]=i[p+1]=i[p+2]=0,_===0&&(x[z]=((u=z+o)<h?u:h)*n,y[z]=(u=z-s)>0?u*n:0),d=_+x[z],P=_+y[z],T+=m[d]-m[P],j+=f[d]-f[P],R+=g[d]-g[P],v+=b[d]-b[P],p+=n<<2}}return e.putImageData(a,0,0),e},W=(e,t="1")=>{if(t=F(t),t===1)return e;t<0&&(t=0);let{height:s,width:l}=e.canvas,n=e.getImageData(0,0,l,s),{data:a}=n,{length:i}=a;for(let r=0;r<i;r+=4)a[r+0]*=t,a[r+1]*=t,a[r+2]*=t;return e.putImageData(n,0,0),e},Z=(e,t="1")=>{if(t=F(t),t===1)return e;t<0&&(t=0);let{height:s,width:l}=e.canvas,n=e.getImageData(0,0,l,s),{data:a}=n,{length:i}=a;for(let r=0;r<i;r+=4)a[r+0]=((a[r+0]/255-.5)*t+.5)*255,a[r+1]=((a[r+1]/255-.5)*t+.5)*255,a[r+2]=((a[r+2]/255-.5)*t+.5)*255;return e.putImageData(n,0,0),e},tt=(e,t,s,l,n)=>{let a=document.createElement("canvas").getContext("2d"),{width:i,height:r}=e.canvas;return a.canvas.width=i,a.canvas.height=r,a.shadowOffsetX=E(t),a.shadowOffsetY=E(s),a.shadowBlur=n?E(l||"0"):0,a.shadowColor=n||l||"transparent",a.drawImage(e.canvas,0,0),e.putImageData(a.getImageData(0,0,i,r),0,0),e},et=(e,t="0")=>{if(t=F(t),t<=0)return e;t>1&&(t=1);let{height:s,width:l}=e.canvas,n=e.getImageData(0,0,l,s),{data:a}=n,{length:i}=a;for(let r=0;r<i;r+=4){let h=a[r]*.2126+a[r+1]*.7152+a[r+2]*.0722;a[r+0]+=(h-a[r+0])*t,a[r+1]+=(h-a[r+1])*t,a[r+2]+=(h-a[r+2])*t}return e.putImageData(n,0,0),e},at=(e,t="0deg")=>{let s=G(t);if(s<=0)return e;let{height:l,width:n}=e.canvas,a=e.getImageData(0,0,n,l),{data:i}=a,r=(s%1+1)%1*3,h=Math.floor(r),o=r-h,c=1-o,w,m,f,g,b,x,y,S,u;switch(h){default:w=m=f=g=b=x=y=S=u=0;break;case 0:w=c,m=0,f=o,g=o,b=c,x=0,y=0,S=o,u=c;break;case 1:w=0,m=o,f=c,g=c,b=0,x=o,y=o,S=c,u=0;break;case 2:w=o,m=c,f=0,g=0,b=o,x=c,y=c,S=0,u=o;break}let d=0;for(let P=0;P<l;++P)for(let C=0;C<n;++C){d=4*(P*n+C);let M=i[d+0],p=i[d+1],_=i[d+2];i[d+0]=Math.floor(w*M+m*p+f*_),i[d+1]=Math.floor(g*M+b*p+x*_),i[d+2]=Math.floor(y*M+S*p+u*_)}return e.putImageData(a,0,0),e},rt=(e,t="0")=>{if(t=F(t),t<=0)return e;t>1&&(t=1);let{height:s,width:l}=e.canvas,n=e.getImageData(0,0,l,s),{data:a}=n,{length:i}=a;for(let r=0;r<i;r+=4)a[r+0]=Math.abs(a[r+0]-255*t),a[r+1]=Math.abs(a[r+1]-255*t),a[r+2]=Math.abs(a[r+2]-255*t);return e.putImageData(n,0,0),e},nt=(e,t="1")=>{if(t=F(t),t<0)return e;t>1&&(t=1);let{height:s,width:l}=e.canvas,n=e.getImageData(0,0,l,s),{data:a}=n,{length:i}=a;for(let r=3;r<i;r+=4)a[r]*=t;return e.putImageData(n,0,0),e},it=(e,t="1")=>{let s=F(t);if(s===1)return e;s<0&&(s=0);let{height:l,width:n}=e.canvas,a=e.getImageData(0,0,n,l),{data:i}=a,r=(1-s)*.3086,h=(1-s)*.6094,o=(1-s)*.082,c=n<<2;for(let w=0;w<l;w++){let m=w*c;for(let f=0;f<n;f++){let g=m+(f<<2),b=i[g+0],x=i[g+1],y=i[g+2];i[g+0]=(r+s)*b+h*x+o*y,i[g+1]=r*b+(h+s)*x+o*y,i[g+2]=r*b+h*x+(o+s)*y}}return e.putImageData(a,0,0),e},st=(e,t="0")=>{if(t=F(t),t<=0)return e;t>1&&(t=1);let{height:s,width:l}=e.canvas,n=e.getImageData(0,0,l,s),{data:a}=n,{length:i}=a;for(let r=0;r<i;r+=4){let h=a[r+0],o=a[r+1],c=a[r+2];a[r+0]=(.393*h+.769*o+.189*c)*t+h*(1-t),a[r+1]=(.349*h+.686*o+.168*c)*t+o*(1-t),a[r+2]=(.272*h+.534*o+.131*c)*t+c*(1-t)}return e.putImageData(n,0,0),e};D.set("none",K);D.set("blur",Q);D.set("brightness",W);D.set("contrast",Z);D.set("drop-shadow",tt);D.set("grayscale",et);D.set("hue-rotate",at);D.set("invert",rt);D.set("opacity",nt);D.set("saturate",it);D.set("sepia",st);var ot=typeof HTMLCanvasElement<"u"&&typeof CanvasRenderingContext2D<"u";ot&&!X()&&(Y(HTMLCanvasElement,CanvasRenderingContext2D),$(CanvasRenderingContext2D),J(CanvasRenderingContext2D));function V(e,t,s){var n=e.getContext("2d");n.filter="brightness(55%)",n.drawImage(s,0,0),n.filter="brightness(100%)",n.fillStyle="white";let a=28,i=30,r=23,h=18,o=75;n.font="lighter 48px sans-serif";let c=t.name,w=n.measureText(c);n.fillText(c,512/2-w.width/2,o),o+=35;for(let m=0;m<t.pools.length;m++){let f=t.pools[m];f.showTemp!=!1&&(text=f.id+": "+f.temp[0]+","+f.temp[1]+" \xB0C",o+=30,O(n,512,text,o,r,300))}o+=30,text="\xD6ffnungszeiten heute:",o+=40,O(n,512,text,o,a,300),o+=40,text="08:00-09:00 und 10:00-20:00 Uhr",O(n,512,text,o,i),text="Planung morgen:",o+=40,O(n,512,text,o,a,300),text="08:00-09:00 und 10:00-20:00 Uhr",o+=40,O(n,512,text,o,i),text="Planung \xFCbermorgen:",o+=40,O(n,512,text,o,a,300),text="08:00-09:00 und 10:00-20:00 Uhr",o+=40,O(n,512,text,o,i),o+=50,text="\xD6ffnungszeiten k\xF6nnen sich kurzfristig \xE4ndern!",O(n,512,text,o,h,300,!0)}function O(e,t,s,l,n,a=600,i=!1){e.filter="blur(6px)",e.fillStyle="black";let r="";i&&(r+="italic "),r+=a+" "+n+"px sans-serif",e.font=r;let h=e.measureText(s);for(k=0;k<3;k++)e.fillText(s,t/2-h.width/2,l);e.filter="none",e.fillStyle="white",e.font=r,h=e.measureText(s),e.fillText(s,t/2-h.width/2,l)}var U=document.getElementById("canvas"),H=new URLSearchParams(window.location.search),N=H.get("key"),lt="public/"+N+".json",ht="public/"+N+".jpg";if(H.has("width")){let e=H.get("width");U.style.width=e,U.style.height=e}fetch(lt).then(e=>e.json()).then(e=>{fetch(ht).then(t=>t.blob()).then(t=>{t=URL.createObjectURL(t);let s=document.getElementById("background-image");s.src=t,s.onload=function(){V(U,e,s)}})});})();
