var freibadampel=(()=>{var C=new Map,N=()=>"filter"in CanvasRenderingContext2D.prototype,F=t=>{let e=document.createElement("canvas");return e.height=t.canvas.height,e.width=t.canvas.width,Object.defineProperty(e,"__skipFilterPatch",{value:!0}),e.getContext("2d")};function Z(t,e){Object.defineProperty(t.prototype,"__skipFilterPatch",{writable:!0,value:!1}),Object.defineProperty(t.prototype,"__currentPathMirror",{writable:!0,value:void 0}),Object.defineProperty(e.prototype,"filter",{writable:!0,value:"none"})}var X=["__skipFilterPatch","__currentPathMirror","canvas","clearRect","filter","getImageData","globalCompositeOperation"];function Y(t){Object.keys(t.prototype).filter(e=>X.indexOf(e)<0).map(e=>({member:e,descriptor:Object.getOwnPropertyDescriptor(t.prototype,e)})).filter(({descriptor:e})=>e.set).forEach(({member:e,descriptor:r})=>{let o=r;Object.defineProperty(t.prototype,e,{get:function(){return this.canvas.__skipFilterPatch?o.get.call(this):this.canvas.__currentPathMirror[e]},set:function(n){if(this.canvas.__skipFilterPatch)return o.set.call(this,n);this.canvas.__currentPathMirror||(this.canvas.__currentPathMirror=F(this)),this.canvas.__currentPathMirror[e]=n}})})}var J=["clearRect","drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],$=(t,e)=>{var r;(r=e.match(/([-a-z]+)(?:\(([\w\d\s\.%-]*)\))?/gim))==null||r.map(o=>{var n;return(n=o.match(/([-a-z]+)(?:\((.*)\))?/i))==null?void 0:n.slice(1,3)}).reduce((o,[n,a])=>C.has(n)?C.get(n)(o,...(a||"").split(" ")):o,t)},z=t=>{let e=parseFloat(t);return/%\s*?$/i.test(t)&&(e/=100),e},q=t=>{let e=parseFloat(t);switch(t.slice(e.toString().length)){case"deg":e/=360;break;case"grad":e/=400;break;case"rad":e/=2*Math.PI;break}return e},O=t=>parseFloat(t);function G(t){Object.keys(t.prototype).filter(e=>X.indexOf(e)<0).map(e=>({member:e,descriptor:Object.getOwnPropertyDescriptor(t.prototype,e)})).filter(({descriptor:e})=>e.value&&typeof e.value=="function").forEach(({member:e,descriptor:r})=>{let o=r.value;Object.defineProperty(t.prototype,e,{value:function(...n){if(this.canvas.__skipFilterPatch)return o.call(this,...n);this.canvas.__currentPathMirror||(this.canvas.__currentPathMirror=F(this));let a=this.canvas.__currentPathMirror[e](...n);if(J.includes(e)){$(this.canvas.__currentPathMirror,this.filter),this.canvas.__skipFilterPatch=!0;let i;"getTransform"in this&&(i=this.getTransform(),this.setTransform(1,0,0,1,0,0)),this.drawImage(this.canvas.__currentPathMirror.canvas,0,0),i&&this.setTransform(i),this.canvas.__skipFilterPatch=!1,this.canvas.__currentPathMirror=F(this)}return a}})})}var K=t=>t,Q=(t,e="0")=>{let r=O(e);if(r<=0)return t;let{height:o,width:n}=t.canvas,a=t.getImageData(0,0,n,o),{data:i}=a,l=n-1,d=o-1,s=r+1,c=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1][r],p=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18][r],h=[],m=[],u=[],y=[],x=[],E=[],D=3,f,g,T,L;for(;D-- >0;){let M=0,v=0;for(let b=0;b<o;b++){let k=i[M]*s,S=i[M+1]*s,_=i[M+2]*s,H=i[M+3]*s;for(let w=1;w<=r;w++)f=M+((w>l?l:w)<<2),k+=i[f++],S+=i[f++],_+=i[f++],H+=i[f];for(let w=0;w<n;w++)h[v]=k,m[v]=S,u[v]=_,y[v]=H,b===0&&(x[w]=((f=w+s)<l?f:l)<<2,E[w]=(f=w-r)>0?f<<2:0),g=M+x[w],T=M+E[w],k+=i[g++]-i[T++],S+=i[g++]-i[T++],_+=i[g++]-i[T++],H+=i[g]-i[T],v++;M+=n<<2}for(let b=0;b<n;b++){let k=b,S=h[k]*s,_=m[k]*s,H=u[k]*s,w=y[k]*s;for(let I=1;I<=r;I++)k+=I>d?0:n,S+=h[k],_+=m[k],H+=u[k],w+=y[k];v=b<<2;for(let I=0;I<o;I++)i[v+3]=L=w*c>>>p,L>0?(L=255/L,i[v]=(S*c>>>p)*L,i[v+1]=(_*c>>>p)*L,i[v+2]=(H*c>>>p)*L):i[v]=i[v+1]=i[v+2]=0,b===0&&(x[I]=((f=I+s)<d?f:d)*n,E[I]=(f=I-r)>0?f*n:0),g=b+x[I],T=b+E[I],S+=h[g]-h[T],_+=m[g]-m[T],H+=u[g]-u[T],w+=y[g]-y[T],v+=n<<2}}return t.putImageData(a,0,0),t},ee=(t,e="1")=>{if(e=z(e),e===1)return t;e<0&&(e=0);let{height:r,width:o}=t.canvas,n=t.getImageData(0,0,o,r),{data:a}=n,{length:i}=a;for(let l=0;l<i;l+=4)a[l+0]*=e,a[l+1]*=e,a[l+2]*=e;return t.putImageData(n,0,0),t},te=(t,e="1")=>{if(e=z(e),e===1)return t;e<0&&(e=0);let{height:r,width:o}=t.canvas,n=t.getImageData(0,0,o,r),{data:a}=n,{length:i}=a;for(let l=0;l<i;l+=4)a[l+0]=((a[l+0]/255-.5)*e+.5)*255,a[l+1]=((a[l+1]/255-.5)*e+.5)*255,a[l+2]=((a[l+2]/255-.5)*e+.5)*255;return t.putImageData(n,0,0),t},ne=(t,e,r,o,n)=>{let a=document.createElement("canvas").getContext("2d"),{width:i,height:l}=t.canvas;return a.canvas.width=i,a.canvas.height=l,a.shadowOffsetX=O(e),a.shadowOffsetY=O(r),a.shadowBlur=n?O(o||"0"):0,a.shadowColor=n||o||"transparent",a.drawImage(t.canvas,0,0),t.putImageData(a.getImageData(0,0,i,l),0,0),t},ae=(t,e="0")=>{if(e=z(e),e<=0)return t;e>1&&(e=1);let{height:r,width:o}=t.canvas,n=t.getImageData(0,0,o,r),{data:a}=n,{length:i}=a;for(let l=0;l<i;l+=4){let d=a[l]*.2126+a[l+1]*.7152+a[l+2]*.0722;a[l+0]+=(d-a[l+0])*e,a[l+1]+=(d-a[l+1])*e,a[l+2]+=(d-a[l+2])*e}return t.putImageData(n,0,0),t},re=(t,e="0deg")=>{let r=q(e);if(r<=0)return t;let{height:o,width:n}=t.canvas,a=t.getImageData(0,0,n,o),{data:i}=a,l=(r%1+1)%1*3,d=Math.floor(l),s=l-d,c=1-s,p,h,m,u,y,x,E,D,f;switch(d){default:p=h=m=u=y=x=E=D=f=0;break;case 0:p=c,h=0,m=s,u=s,y=c,x=0,E=0,D=s,f=c;break;case 1:p=0,h=s,m=c,u=c,y=0,x=s,E=s,D=c,f=0;break;case 2:p=s,h=c,m=0,u=0,y=s,x=c,E=c,D=0,f=s;break}let g=0;for(let T=0;T<o;++T)for(let L=0;L<n;++L){g=4*(T*n+L);let M=i[g+0],v=i[g+1],b=i[g+2];i[g+0]=Math.floor(p*M+h*v+m*b),i[g+1]=Math.floor(u*M+y*v+x*b),i[g+2]=Math.floor(E*M+D*v+f*b)}return t.putImageData(a,0,0),t},ie=(t,e="0")=>{if(e=z(e),e<=0)return t;e>1&&(e=1);let{height:r,width:o}=t.canvas,n=t.getImageData(0,0,o,r),{data:a}=n,{length:i}=a;for(let l=0;l<i;l+=4)a[l+0]=Math.abs(a[l+0]-255*e),a[l+1]=Math.abs(a[l+1]-255*e),a[l+2]=Math.abs(a[l+2]-255*e);return t.putImageData(n,0,0),t},le=(t,e="1")=>{if(e=z(e),e<0)return t;e>1&&(e=1);let{height:r,width:o}=t.canvas,n=t.getImageData(0,0,o,r),{data:a}=n,{length:i}=a;for(let l=3;l<i;l+=4)a[l]*=e;return t.putImageData(n,0,0),t},oe=(t,e="1")=>{let r=z(e);if(r===1)return t;r<0&&(r=0);let{height:o,width:n}=t.canvas,a=t.getImageData(0,0,n,o),{data:i}=a,l=(1-r)*.3086,d=(1-r)*.6094,s=(1-r)*.082,c=n<<2;for(let p=0;p<o;p++){let h=p*c;for(let m=0;m<n;m++){let u=h+(m<<2),y=i[u+0],x=i[u+1],E=i[u+2];i[u+0]=(l+r)*y+d*x+s*E,i[u+1]=l*y+(d+r)*x+s*E,i[u+2]=l*y+d*x+(s+r)*E}}return t.putImageData(a,0,0),t},se=(t,e="0")=>{if(e=z(e),e<=0)return t;e>1&&(e=1);let{height:r,width:o}=t.canvas,n=t.getImageData(0,0,o,r),{data:a}=n,{length:i}=a;for(let l=0;l<i;l+=4){let d=a[l+0],s=a[l+1],c=a[l+2];a[l+0]=(.393*d+.769*s+.189*c)*e+d*(1-e),a[l+1]=(.349*d+.686*s+.168*c)*e+s*(1-e),a[l+2]=(.272*d+.534*s+.131*c)*e+c*(1-e)}return t.putImageData(n,0,0),t};C.set("none",K);C.set("blur",Q);C.set("brightness",ee);C.set("contrast",te);C.set("drop-shadow",ne);C.set("grayscale",ae);C.set("hue-rotate",re);C.set("invert",ie);C.set("opacity",le);C.set("saturate",oe);C.set("sepia",se);var de=typeof HTMLCanvasElement<"u"&&typeof CanvasRenderingContext2D<"u";de&&!N()&&(Z(HTMLCanvasElement,CanvasRenderingContext2D),Y(CanvasRenderingContext2D),G(CanvasRenderingContext2D));function V(t,e,r){var n=t.getContext("2d");n.globalAlpha=.65,n.drawImage(r,0,0),n.globalAlpha=1,n.filter="brightness(100%)",n.fillStyle="black";let a=28,i=30,l=23,d=20,s=75;n.font="52px sans-serif";let c=e.name,p=n.measureText(c);n.fillText(c,512/2-p.width/2,s,500),s+=35;for(let h=0;h<e.pools.length;h++){let m=e.pools[h];m.showTemp!=!1&&(text=m.id+": "+m.temp[0]+","+m.temp[1]+" \xB0C",s+=30,P(n,512,text,s,l,300))}s+=30,s+=35,text="heute",P(n,512,text,s,a,300),s+=40,text="08:00-09:00 und 10:00-20:00 Uhr",P(n,512,text,s,i,1e3),s+=50,text="morgen",P(n,512,text,s,a,300),s+=40,text="08:00-09:00 und 10:00-20:00 Uhr",P(n,512,text,s,i,1e3),s+=50,text="\xFCbermorgen",P(n,512,text,s,a,300),text="08:00-09:00 und 10:00-20:00 Uhr",s+=40,P(n,512,text,s,i,1e3),s+=50,text="\xD6ffnungszeiten k\xF6nnen sich kurzfristig \xE4ndern!",P(n,512,text,s,d,400,!0)}function P(t,e,r,o,n,a=600,i=!1){t.filter="blur(2px)",t.fillStyle="white";let d="";i&&(d+="italic "),d+=a+" "+n+"px sans-serif",t.font=d;let s=t.measureText(r);s>500&&(s=500),t.font=d,t.fillText(r,e/2-s.width/2,o,500),t.filter="none",t.fillStyle="black",t.font=d,s=t.measureText(r),t.fillText(r,e/2-s.width/2,o,500)}document.getElementById("current-year").innerHTML=new Date().getFullYear();var j={};fetch("../public/0000a5vw5iu2.json").then(t=>t.json()).then(t=>{j=t,W()});function ce(){let t=document.getElementById("preview-canvas").toDataURL("image/jpeg",.5);console.log(t),fetch("save.php",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({"img-data":t})}).then(()=>{A()})}document.getElementById("publish").addEventListener("click",()=>{ce()});var he=["preview","temperature","hours","std-hours","pools"],R=[],U=[];for(let t of he){let e=document.getElementById("menu-"+t);R.push(e);let r=document.getElementById("div-"+t);U.push(r),e.addEventListener("click",()=>{for(let o=0;o<R.length;o++){let n=R[o];n.classList.value="",n.classList.add(e==n?"button-primary":"button");let a=U[o];a.style.display=e==n?"block":"none"}t=="preview"?(W(),A()):t=="temperature"?fe():t=="std-hours"&&me(),window.scrollTo(0,0)})}function me(){let t=document.getElementById("div-std-hours");t.innerHTML="";let e=document.createElement("h3");e.style.textAlign="center",e.innerHTML="Standard Zeiten",t.appendChild(e);let r=["Montags","Dienstags","Mittwochs","Donnerstags","Freitags","Samstags","Sonntags"];for(let o=0;o<7;o++){let n=ue(r[o]);t.appendChild(n),t.appendChild(document.createElement("br"))}}function pe(){let t=document.createElement("div");t.classList.add("timeSlot");let e=document.createElement("div");e.style.textAlign="center",e.style.fontSize="x-large",e.innerHTML="XX:XX bis XX:XX Uhr",t.appendChild(e);for(let n=0;n<4;n++){let a=document.createElement("div");switch(a.style.paddingTop="4px",n){case 0:a.innerHTML="Beginn: Stunde";break;case 1:a.innerHTML="Beginn: Minute";break;case 2:a.innerHTML="Ende: Stunde";break;case 3:a.innerHTML="Ende: Minute";break}t.appendChild(a);let i=document.createElement("div");i.style.overflow="auto",i.style.flexWrap="wrap",i.style.webkitFlexWrap="wrap",B(()=>{},i,0,n%2==0?23:59,n%2==0?1:5,n%2==0?n==0?8:16:0),t.appendChild(i)}let r=document.createElement("div");r.style.textAlign="center",t.appendChild(r);let o=document.createElement("button");return r.appendChild(o),o.classList.add("button-primary"),o.style.width="100%",o.style.maxWidth="384px",o.style.marginTop="8px",o.innerHTML="diesen Zeitslot l\xF6schen",t}function ue(t){let e=document.createElement("div");e.classList.add("panel");let r=document.createElement("div");r.classList.add("panelTitle"),r.innerHTML=t,e.appendChild(r),e.appendChild(pe()),e.appendChild(document.createElement("br"));let o=document.createElement("div");o.style.textAlign="center",e.appendChild(o);let n=document.createElement("button");return o.appendChild(n),n.classList.add("button-primary"),n.style.width="100%",n.style.maxWidth="384px",n.innerHTML="weiteren Zeitslot hinzuf\xFCgen",e}function fe(){let t=document.getElementById("div-temperature");t.innerHTML="";for(let e=0;e<j.pools.length;e++){let r=j.pools[e],o=document.createElement("div");t.appendChild(o),o.classList.add("panel");let n=document.createElement("b");n.innerHTML=r.id+" / \xB0C",n.style.fontSize="large",o.appendChild(n),o.appendChild(document.createElement("br"));let a=document.createElement("div");o.appendChild(a),a.style.textAlign="center",a.style.fontSize="xx-large",a.innerHTML=""+r.temp[0]+","+r.temp[1];let i=document.createElement("div");o.appendChild(i),i.paddingTop="4px",i.innerHTML="Vorkommastelle";let l=document.createElement("div");o.appendChild(l),l.classList.add("sliderContainer");let d=B(u=>{r.temp[0]=u,a.innerHTML=""+r.temp[0]+","+r.temp[1]},l,10,35,1,r.temp[0]),s=document.createElement("div");o.appendChild(s),s.paddingTop="4px",s.innerHTML="Nachkommastelle";let c=document.createElement("div");o.appendChild(c),c.classList.add("sliderContainer");let p=B(u=>{r.temp[1]=u,a.innerHTML=""+r.temp[0]+","+r.temp[1]},c,0,9,1,r.temp[1]);o.appendChild(document.createElement("br"));let h=document.createElement("input");h.type="checkbox",o.appendChild(h),h.checked=r.showTemp;let m=document.createElement("span");m.innerHTML=" Wassertemperatur anzeigen",m.style.cursor="pointer",o.appendChild(m),h.addEventListener("click",()=>{r.showTemp=h.checked}),m.addEventListener("click",()=>{h.click(),r.showTemp=h.checked}),t.appendChild(document.createElement("br")),d?.scrollIntoView(),p?.scrollIntoView()}}var ge=document.getElementById("my-img");ge.addEventListener("load",t=>{W(),A()});function W(){let t=document.getElementById("preview-canvas");V(t,j)}function A(){document.getElementById("public-img").src="blub.jpg?v="+Date.now()}function B(t,e,r,o,n=1,a=-1){e.innerHTML="";let i=null,l=[];for(let d=r;d<=o;d+=n){let s=document.createElement("span");l.push(s),s.innerHTML=""+d,s.classList.add(d==a?"checkedBox":"uncheckedBox"),e.appendChild(s)}for(let d=0;d<l.length;d++)l[d].addEventListener("click",()=>{for(let c=0;c<l.length;c++){let p=l[c];p.classList.value="",d==c?p.classList.add("checkedBox"):p.classList.add("uncheckedBox")}t(r+d*n)});return i?.scrollIntoView(),i}B(()=>{},document.getElementById("time-test-hour"),0,23,1,8);B(()=>{},document.getElementById("time-test-minute"),0,59,5,0);var ve=function(){return!0};window.onload=function(){window.addEventListener("beforeunload",function(t){if(ve()){var e="It looks like you have been editing something. If you leave before saving, your changes will be lost.";return(t||window.event).returnValue=e,e}})};})();
