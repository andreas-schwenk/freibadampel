var freibadampel=(()=>{var M=new Map,Z=()=>"filter"in CanvasRenderingContext2D.prototype,R=t=>{let e=document.createElement("canvas");return e.height=t.canvas.height,e.width=t.canvas.width,Object.defineProperty(e,"__skipFilterPatch",{value:!0}),e.getContext("2d")};function Y(t,e){Object.defineProperty(t.prototype,"__skipFilterPatch",{writable:!0,value:!1}),Object.defineProperty(t.prototype,"__currentPathMirror",{writable:!0,value:void 0}),Object.defineProperty(e.prototype,"filter",{writable:!0,value:"none"})}var U=["__skipFilterPatch","__currentPathMirror","canvas","clearRect","filter","getImageData","globalCompositeOperation"];function J(t){Object.keys(t.prototype).filter(e=>U.indexOf(e)<0).map(e=>({member:e,descriptor:Object.getOwnPropertyDescriptor(t.prototype,e)})).filter(({descriptor:e})=>e.set).forEach(({member:e,descriptor:i})=>{let s=i;Object.defineProperty(t.prototype,e,{get:function(){return this.canvas.__skipFilterPatch?s.get.call(this):this.canvas.__currentPathMirror[e]},set:function(n){if(this.canvas.__skipFilterPatch)return s.set.call(this,n);this.canvas.__currentPathMirror||(this.canvas.__currentPathMirror=R(this)),this.canvas.__currentPathMirror[e]=n}})})}var $=["clearRect","drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],q=(t,e)=>{var i;(i=e.match(/([-a-z]+)(?:\(([\w\d\s\.%-]*)\))?/gim))==null||i.map(s=>{var n;return(n=s.match(/([-a-z]+)(?:\((.*)\))?/i))==null?void 0:n.slice(1,3)}).reduce((s,[n,a])=>M.has(n)?M.get(n)(s,...(a||"").split(" ")):s,t)},B=t=>{let e=parseFloat(t);return/%\s*?$/i.test(t)&&(e/=100),e},G=t=>{let e=parseFloat(t);switch(t.slice(e.toString().length)){case"deg":e/=360;break;case"grad":e/=400;break;case"rad":e/=2*Math.PI;break}return e},j=t=>parseFloat(t);function K(t){Object.keys(t.prototype).filter(e=>U.indexOf(e)<0).map(e=>({member:e,descriptor:Object.getOwnPropertyDescriptor(t.prototype,e)})).filter(({descriptor:e})=>e.value&&typeof e.value=="function").forEach(({member:e,descriptor:i})=>{let s=i.value;Object.defineProperty(t.prototype,e,{value:function(...n){if(this.canvas.__skipFilterPatch)return s.call(this,...n);this.canvas.__currentPathMirror||(this.canvas.__currentPathMirror=R(this));let a=this.canvas.__currentPathMirror[e](...n);if($.includes(e)){q(this.canvas.__currentPathMirror,this.filter),this.canvas.__skipFilterPatch=!0;let l;"getTransform"in this&&(l=this.getTransform(),this.setTransform(1,0,0,1,0,0)),this.drawImage(this.canvas.__currentPathMirror.canvas,0,0),l&&this.setTransform(l),this.canvas.__skipFilterPatch=!1,this.canvas.__currentPathMirror=R(this)}return a}})})}var Q=t=>t,ee=(t,e="0")=>{let i=j(e);if(i<=0)return t;let{height:s,width:n}=t.canvas,a=t.getImageData(0,0,n,s),{data:l}=a,r=n-1,d=s-1,o=i+1,c=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1][i],m=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18][i],u=[],h=[],p=[],y=[],x=[],E=[],S=3,f,g,T,P;for(;S-- >0;){let I=0,v=0;for(let b=0;b<s;b++){let C=l[I]*o,_=l[I+1]*o,H=l[I+2]*o,z=l[I+3]*o;for(let w=1;w<=i;w++)f=I+((w>r?r:w)<<2),C+=l[f++],_+=l[f++],H+=l[f++],z+=l[f];for(let w=0;w<n;w++)u[v]=C,h[v]=_,p[v]=H,y[v]=z,b===0&&(x[w]=((f=w+o)<r?f:r)<<2,E[w]=(f=w-i)>0?f<<2:0),g=I+x[w],T=I+E[w],C+=l[g++]-l[T++],_+=l[g++]-l[T++],H+=l[g++]-l[T++],z+=l[g]-l[T],v++;I+=n<<2}for(let b=0;b<n;b++){let C=b,_=u[C]*o,H=h[C]*o,z=p[C]*o,w=y[C]*o;for(let L=1;L<=i;L++)C+=L>d?0:n,_+=u[C],H+=h[C],z+=p[C],w+=y[C];v=b<<2;for(let L=0;L<s;L++)l[v+3]=P=w*c>>>m,P>0?(P=255/P,l[v]=(_*c>>>m)*P,l[v+1]=(H*c>>>m)*P,l[v+2]=(z*c>>>m)*P):l[v]=l[v+1]=l[v+2]=0,b===0&&(x[L]=((f=L+o)<d?f:d)*n,E[L]=(f=L-i)>0?f*n:0),g=b+x[L],T=b+E[L],_+=u[g]-u[T],H+=h[g]-h[T],z+=p[g]-p[T],w+=y[g]-y[T],v+=n<<2}}return t.putImageData(a,0,0),t},te=(t,e="1")=>{if(e=B(e),e===1)return t;e<0&&(e=0);let{height:i,width:s}=t.canvas,n=t.getImageData(0,0,s,i),{data:a}=n,{length:l}=a;for(let r=0;r<l;r+=4)a[r+0]*=e,a[r+1]*=e,a[r+2]*=e;return t.putImageData(n,0,0),t},ne=(t,e="1")=>{if(e=B(e),e===1)return t;e<0&&(e=0);let{height:i,width:s}=t.canvas,n=t.getImageData(0,0,s,i),{data:a}=n,{length:l}=a;for(let r=0;r<l;r+=4)a[r+0]=((a[r+0]/255-.5)*e+.5)*255,a[r+1]=((a[r+1]/255-.5)*e+.5)*255,a[r+2]=((a[r+2]/255-.5)*e+.5)*255;return t.putImageData(n,0,0),t},ae=(t,e,i,s,n)=>{let a=document.createElement("canvas").getContext("2d"),{width:l,height:r}=t.canvas;return a.canvas.width=l,a.canvas.height=r,a.shadowOffsetX=j(e),a.shadowOffsetY=j(i),a.shadowBlur=n?j(s||"0"):0,a.shadowColor=n||s||"transparent",a.drawImage(t.canvas,0,0),t.putImageData(a.getImageData(0,0,l,r),0,0),t},re=(t,e="0")=>{if(e=B(e),e<=0)return t;e>1&&(e=1);let{height:i,width:s}=t.canvas,n=t.getImageData(0,0,s,i),{data:a}=n,{length:l}=a;for(let r=0;r<l;r+=4){let d=a[r]*.2126+a[r+1]*.7152+a[r+2]*.0722;a[r+0]+=(d-a[r+0])*e,a[r+1]+=(d-a[r+1])*e,a[r+2]+=(d-a[r+2])*e}return t.putImageData(n,0,0),t},ie=(t,e="0deg")=>{let i=G(e);if(i<=0)return t;let{height:s,width:n}=t.canvas,a=t.getImageData(0,0,n,s),{data:l}=a,r=(i%1+1)%1*3,d=Math.floor(r),o=r-d,c=1-o,m,u,h,p,y,x,E,S,f;switch(d){default:m=u=h=p=y=x=E=S=f=0;break;case 0:m=c,u=0,h=o,p=o,y=c,x=0,E=0,S=o,f=c;break;case 1:m=0,u=o,h=c,p=c,y=0,x=o,E=o,S=c,f=0;break;case 2:m=o,u=c,h=0,p=0,y=o,x=c,E=c,S=0,f=o;break}let g=0;for(let T=0;T<s;++T)for(let P=0;P<n;++P){g=4*(T*n+P);let I=l[g+0],v=l[g+1],b=l[g+2];l[g+0]=Math.floor(m*I+u*v+h*b),l[g+1]=Math.floor(p*I+y*v+x*b),l[g+2]=Math.floor(E*I+S*v+f*b)}return t.putImageData(a,0,0),t},le=(t,e="0")=>{if(e=B(e),e<=0)return t;e>1&&(e=1);let{height:i,width:s}=t.canvas,n=t.getImageData(0,0,s,i),{data:a}=n,{length:l}=a;for(let r=0;r<l;r+=4)a[r+0]=Math.abs(a[r+0]-255*e),a[r+1]=Math.abs(a[r+1]-255*e),a[r+2]=Math.abs(a[r+2]-255*e);return t.putImageData(n,0,0),t},se=(t,e="1")=>{if(e=B(e),e<0)return t;e>1&&(e=1);let{height:i,width:s}=t.canvas,n=t.getImageData(0,0,s,i),{data:a}=n,{length:l}=a;for(let r=3;r<l;r+=4)a[r]*=e;return t.putImageData(n,0,0),t},oe=(t,e="1")=>{let i=B(e);if(i===1)return t;i<0&&(i=0);let{height:s,width:n}=t.canvas,a=t.getImageData(0,0,n,s),{data:l}=a,r=(1-i)*.3086,d=(1-i)*.6094,o=(1-i)*.082,c=n<<2;for(let m=0;m<s;m++){let u=m*c;for(let h=0;h<n;h++){let p=u+(h<<2),y=l[p+0],x=l[p+1],E=l[p+2];l[p+0]=(r+i)*y+d*x+o*E,l[p+1]=r*y+(d+i)*x+o*E,l[p+2]=r*y+d*x+(o+i)*E}}return t.putImageData(a,0,0),t},de=(t,e="0")=>{if(e=B(e),e<=0)return t;e>1&&(e=1);let{height:i,width:s}=t.canvas,n=t.getImageData(0,0,s,i),{data:a}=n,{length:l}=a;for(let r=0;r<l;r+=4){let d=a[r+0],o=a[r+1],c=a[r+2];a[r+0]=(.393*d+.769*o+.189*c)*e+d*(1-e),a[r+1]=(.349*d+.686*o+.168*c)*e+o*(1-e),a[r+2]=(.272*d+.534*o+.131*c)*e+c*(1-e)}return t.putImageData(n,0,0),t};M.set("none",Q);M.set("blur",ee);M.set("brightness",te);M.set("contrast",ne);M.set("drop-shadow",ae);M.set("grayscale",re);M.set("hue-rotate",ie);M.set("invert",le);M.set("opacity",se);M.set("saturate",oe);M.set("sepia",de);var ce=typeof HTMLCanvasElement<"u"&&typeof CanvasRenderingContext2D<"u";ce&&!Z()&&(Y(HTMLCanvasElement,CanvasRenderingContext2D),J(CanvasRenderingContext2D),K(CanvasRenderingContext2D));function W(t,e,i){var n=t.getContext("2d");n.filter="brightness(55%)",n.drawImage(i,0,0),n.filter="brightness(100%)",n.fillStyle="white";let a=28,l=30,r=23,d=18,o=75;n.font="lighter 48px sans-serif";let c=e.name,m=n.measureText(c);n.fillText(c,512/2-m.width/2,o),o+=35;for(let u=0;u<e.pools.length;u++){let h=e.pools[u];h.showTemp!=!1&&(text=h.id+": "+h.temp[0]+","+h.temp[1]+" \xB0C",o+=30,D(n,512,text,o,r,300))}o+=30,text="\xD6ffnungszeiten heute:",o+=40,D(n,512,text,o,a,300),o+=40,text="08:00-09:00 und 10:00-20:00 Uhr",D(n,512,text,o,l),text="Planung morgen:",o+=40,D(n,512,text,o,a,300),text="08:00-09:00 und 10:00-20:00 Uhr",o+=40,D(n,512,text,o,l),text="Planung \xFCbermorgen:",o+=40,D(n,512,text,o,a,300),text="08:00-09:00 und 10:00-20:00 Uhr",o+=40,D(n,512,text,o,l),o+=50,text="\xD6ffnungszeiten k\xF6nnen sich kurzfristig \xE4ndern!",D(n,512,text,o,d,300,!0)}function D(t,e,i,s,n,a=600,l=!1){t.filter="blur(6px)",t.fillStyle="black";let r="";l&&(r+="italic "),r+=a+" "+n+"px sans-serif",t.font=r;let d=t.measureText(i);for(k=0;k<3;k++)t.fillText(i,e/2-d.width/2,s);t.filter="none",t.fillStyle="white",t.font=r,d=t.measureText(i),t.fillText(i,e/2-d.width/2,s)}document.getElementById("current-year").innerHTML=new Date().getFullYear();var F={};fetch("../public/0000a5vw5iu2.json").then(t=>t.json()).then(t=>{F=t,A()});function ue(){let t=document.getElementById("preview-canvas").toDataURL("image/jpeg",.5);console.log(t),fetch("save.php",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({"img-data":t})}).then(()=>{V()})}document.getElementById("publish").addEventListener("click",()=>{ue()});var he=["preview","temperature","hours","std-hours","pools"],X=[],N=[];for(let t of he){let e=document.getElementById("menu-"+t);X.push(e);let i=document.getElementById("div-"+t);N.push(i),e.addEventListener("click",()=>{for(let s=0;s<X.length;s++){let n=X[s];n.classList.value="",n.classList.add(e==n?"button-primary":"button");let a=N[s];a.style.display=e==n?"block":"none"}t=="preview"?(A(),V()):t=="temperature"?ge():t=="std-hours"&&me(),window.scrollTo(0,0)})}function me(){let t=document.getElementById("div-std-hours");t.innerHTML="";let e=document.createElement("h3");e.style.textAlign="center",e.innerHTML="Standard Zeiten",t.appendChild(e);let i=["Montags","Dienstags","Mittwochs","Donnerstangs","Freitags","Samstags","Sonntags"];for(let s=0;s<7;s++){let n=fe(i[s]);t.appendChild(n),t.appendChild(document.createElement("br"))}}function pe(){let t=document.createElement("div");t.classList.add("timeSlot");let e=document.createElement("div");e.style.textAlign="center",e.style.fontSize="x-large",e.innerHTML="XX:XX bis XX:XX Uhr",t.appendChild(e);for(let n=0;n<4;n++){let a=document.createElement("div");switch(a.style.paddingTop="4px",n){case 0:a.innerHTML="Beginn: Stunde";break;case 1:a.innerHTML="Beginn: Minute";break;case 2:a.innerHTML="Ende: Stunde";break;case 3:a.innerHTML="Ende: Minute";break}t.appendChild(a);let l=document.createElement("div");l.style.overflow="auto",l.style.flexWrap="wrap",l.style.webkitFlexWrap="wrap",O(()=>{},l,0,n%2==0?23:59,n%2==0?1:5,n%2==0?n==0?8:16:0),t.appendChild(l)}let i=document.createElement("div");i.style.textAlign="center",t.appendChild(i);let s=document.createElement("button");return i.appendChild(s),s.classList.add("button-primary"),s.style.width="100%",s.style.maxWidth="384px",s.style.marginTop="8px",s.innerHTML="diesen Zeitslot l\xF6schen",t}function fe(t){let e=document.createElement("div");e.classList.add("panel");let i=document.createElement("div");i.classList.add("panelTitle"),i.innerHTML=t,e.appendChild(i),e.appendChild(pe()),e.appendChild(document.createElement("br"));let s=document.createElement("div");s.style.textAlign="center",e.appendChild(s);let n=document.createElement("button");return s.appendChild(n),n.classList.add("button-primary"),n.style.width="100%",n.style.maxWidth="384px",n.innerHTML="weiteren Zeitslot hinzuf\xFCgen",e}function ge(){let t=document.getElementById("div-temperature");t.innerHTML="";for(let e=0;e<F.pools.length;e++){let i=F.pools[e],s=document.createElement("div");t.appendChild(s),s.classList.add("panel");let n=document.createElement("b");n.innerHTML=i.id+" / \xB0C",n.style.fontSize="large",s.appendChild(n),s.appendChild(document.createElement("br"));let a=document.createElement("div");s.appendChild(a),a.style.textAlign="center",a.style.fontSize="xx-large",a.innerHTML=""+i.temp[0]+","+i.temp[1];let l=document.createElement("div");s.appendChild(l),l.paddingTop="4px",l.innerHTML="Vorkommastelle";let r=document.createElement("div");s.appendChild(r),r.classList.add("sliderContainer");let d=O(p=>{i.temp[0]=p,a.innerHTML=""+i.temp[0]+","+i.temp[1]},r,10,35,1,i.temp[0]),o=document.createElement("div");s.appendChild(o),o.paddingTop="4px",o.innerHTML="Nachkommastelle";let c=document.createElement("div");s.appendChild(c),c.classList.add("sliderContainer");let m=O(p=>{i.temp[1]=p,a.innerHTML=""+i.temp[0]+","+i.temp[1]},c,0,9,1,i.temp[1]);s.appendChild(document.createElement("br"));let u=document.createElement("input");u.type="checkbox",s.appendChild(u),u.checked=i.showTemp;let h=document.createElement("span");h.innerHTML=" Wassertemperatur anzeigen",h.style.cursor="pointer",s.appendChild(h),u.addEventListener("click",()=>{i.showTemp=u.checked}),h.addEventListener("click",()=>{u.click(),i.showTemp=u.checked}),t.appendChild(document.createElement("br")),d?.scrollIntoView(),m?.scrollIntoView()}}var ve=document.getElementById("my-img");ve.addEventListener("load",t=>{A(),V()});function A(){let t=document.getElementById("preview-canvas");W(t,F)}function V(){document.getElementById("public-img").src="blub.jpg?v="+Date.now()}function O(t,e,i,s,n=1,a=-1){e.innerHTML="";let l=null,r=[];for(let d=i;d<=s;d+=n){let o=document.createElement("span");r.push(o),o.innerHTML=""+d,o.classList.add(d==a?"checkedBox":"uncheckedBox"),e.appendChild(o)}for(let d=0;d<r.length;d++)r[d].addEventListener("click",()=>{for(let c=0;c<r.length;c++){let m=r[c];m.classList.value="",d==c?m.classList.add("checkedBox"):m.classList.add("uncheckedBox")}t(i+d*n)});return l?.scrollIntoView(),l}O(()=>{},document.getElementById("time-test-hour"),0,23,1,8);O(()=>{},document.getElementById("time-test-minute"),0,59,5,0);var we=function(){return!0};window.onload=function(){window.addEventListener("beforeunload",function(t){if(we()){var e="It looks like you have been editing something. If you leave before saving, your changes will be lost.";return(t||window.event).returnValue=e,e}})};})();
